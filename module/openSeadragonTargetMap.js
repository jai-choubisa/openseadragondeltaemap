const e=function(e,t){return Number(Math.round(e+"e"+t)+"e-"+t)},t=function(e,t,i){this.name="TargetChart";const n=i.getContentSize();this.element=document.createElement("targetChart"),this.element.style.position="absolute",this.element.style.left=`${100*e.location.x/n.x}%`,this.element.style.top=`${100*e.location.y/n.y}%`,this.element.style.width=`${100*e.location.w/n.x}%`,this.element.style.height=`${100*e.location.h/n.y}%`,this.element.style.boxShadow="inset 0 0 2px 2px darkviolet",t.appendChild(this.element)},i=function(i){this.name="TargetMap",this.element=document.createElement("targetmap"),this.element.style.position="absolute",this.element.style.boxShadow="inset 0 0 2px 2px blue",i.canvas.appendChild(this.element),this.resize=()=>{if(this.tiledImage=i.world.getItemAt(0),!this.tiledImage)return;const t=this.tiledImage.getBounds(),n=i.viewport.pixelFromPoint(t.getTopLeft()),s=i.viewport.pixelFromPoint(t.getBottomRight());if(!function(){let e=Boolean(arguments.length);return Array.from(arguments).forEach(t=>{e=e&&"number"==typeof t&&Number.isFinite(t)}),e}(n.x,n.y,s.x,s.y))return;const r=e(n.x,4),o=e(n.y,4),a=e(s.x-n.x,4),h=e(s.y-n.y,4);this.element.style.left=`${r}px`,this.element.style.top=`${o}px`,this.element.style.width=`${a}px`,this.element.style.height=`${h}px`},i.addHandler("animation",()=>{this.resize()}),i.addHandler("open",()=>{this.resize()}),i.addHandler("rotate",()=>{this.resize()}),i.addHandler("resize",()=>{this.resize()}),this.resize(),this.charts=[],this.render=e=>{e.forEach(e=>{this.charts.push(new t(e,this.element,this.tiledImage))})}};var n=function(){var e=window.OpenSeadragon;if(!e&&!(e=require("openseadragon")))throw new Error("OpenSeadragon is missing.");e.Viewer.prototype.targetMap=function(){return this._targetMap||(this._targetMap=new i(this)),this._targetMap}}();export default n;
//# sourceMappingURL=openSeadragonTargetMap.js.map
